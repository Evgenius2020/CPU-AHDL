subdesign ip 
(
	newValue[0..7] : input;
	we: input;
	stop: input;
	clk: input;
	out[0..7] : output;
)
variable 
	curr[7..0]: dffe;
begin
	curr[].ena = !stop;
	curr[].clk = clk;
	curr[].d = (we and newValue[]) or (!we and (curr[] + 1));
	out[] = curr[].q;
end;
